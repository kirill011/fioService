# fioService

## Задание 
	
Реализовать сервис, который будет получать по апи ФИО, из открытых апи обогащать

ответ наиболее вероятными возрастом, полом и национальностью и сохранять данные в

БД. По запросу выдавать инфу о найденных людях. Необходимо реализовать следующее
1. Выставить rest методы
   1) для получения данных с различными фильтрами и пагинацией
   2) Для удаления по идентификатору
   3) Для изменения сущности
   4) Для добавления новых людей в формате
     
      		{
	
			              "name": "Dmitriy",

   					"surname": "Ushakov",
   
   					"patronymic": "Vasilevich" // необязательно
   
   			}
   
2. Корректное сообщение обогатить
   1) Возрастом - https://api.agify.io/?name=Dmitriy
   2) Полом - https://api.genderize.io/?name=Dmitriy
   3) Национальностью - https://api.nationalize.io/?name=Dmitriy
	
3. Обогащенное сообщение положить в БД postgres (структура БД должна быть создана путем миграций)

4. Покрыть код debug- и info-логами

5. Вынести конфигурационные данные в .env


## Эксплуатация
1. Произведите настройку .env файла
2. Запустите сервер командой

   		go run main.go
## Запросы
На сервер можно передать следующие запросы:
### 1. http://localhost:8080/getData - запрос на получение данных из БД

	Параметры:

	page - номер страницы (не обязательный)
	pageSize - количество записей на странице (обязательный если есть параметр page)
	name - фильтр по имени (не обязательный)
	surname - фильтр по фамилии (не обязательный)
	patronymic - фильтр по отчеству (не обязательный)
	age - фильтр по возрасту (не обязательный)
	gender - фильтр по полу (не обязательный)
	country - фильтр по стране (не обязательный)
	
### 2. http://localhost:8080/addPerson - добавить запись о человеке в БД

	Параметры:

	fio - JSON обьект вида 
 	{
		"name": "Dmitriy",
		"surname": "Ushakov",
		"patronymic": "Vasilevich" // необязательно
 	}
	с данными человека, которого необходимо добавить в БД. Остальные поля заполнятся сами из открытых API (обязательный)

### 3. http://localhost:8080/deletePerson - удаляет запись о человеке из БД

		Параметры:

		id - идентификатор записи о человеке в БД (обязательный)

 ### 4. http://localhost:8080/updatePerson - обновляет запись о человеке из БД

 		Параметры:

 		id - идентификатор записи о человеке в БД (обязательный)
		name - фильтр по имени (не обязательный)
		surname - фильтр по фамилии (не обязательный)
		patronymic - фильтр по отчеству (не обязательный)
		age - фильтр по возрасту (не обязательный)
		gender - фильтр по полу (не обязательный)
		country - фильтр по стране (не обязательный)
